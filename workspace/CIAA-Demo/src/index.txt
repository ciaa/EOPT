const unsigned char WebSide[] = {
"<!DOCTYPE html>\r\n"
"<html>\r\n"
"<head>\r\n"
"<meta charset=\"UTF-8\">\r\n"
"<title>CIAA Demo</title>\r\n"
"\r\n"
"<style>\r\n"
"	body{ background : #0771E8; }\r\n"
"	body,h1 {\r\n"
"		padding : 0;\r\n"
"		margin : 0;\r\n"
"	}\r\n"
"	#topPart {\r\n"
"		height : 320px;\r\n"
"		background : #0771E8;\r\n"
"		padding : 0;\r\n"
"		margin : 0;	\r\n"
"	}\r\n"
"	#bottomPart {\r\n"
"		height : auto;\r\n"
"		background : #08BEFF;\r\n"
"		padding : 0;\r\n"
"		margin : 0;\r\n"
"		margin-top:10px;\r\n"
"		padding-top: 25px;		\r\n"
"		-webkit-box-shadow: 00px -5px 50px #000000;\r\n"
"		-moz-box-shadow: 00px -5px 50px #000000;\r\n"
"		box-shadow: 00px -5px 50px #000000;\r\n"
"	}\r\n"
"	/* Contenido en top */\r\n"
"	#topContent {\r\n"
"		margin : auto;\r\n"
"		width : 600px;\r\n"
"	}\r\n"
"	#logo{\r\n"
"		float : left;\r\n"
"		width : 300px;\r\n"
"	}\r\n"
"	section {\r\n"
"		font-family : verdana;\r\n"
"		color: white;\r\n"
"		float : left;\r\n"
"		width : 300px;\r\n"
"		margin-top : 80px;\r\n"
"	}\r\n"
"	section h1{\r\n"
"		font-size : 25px;\r\n"
"	}\r\n"
"	section p{\r\n"
"		font-size : 12px;\r\n"
"	}	\r\n"
"	/* Tabla */\r\n"
"	table {\r\n"
"		font-family : verdana;\r\n"
"		border: 3px solid #0771E8;\r\n"
"		width:auto;\r\n"
"		margin : auto;\r\n"
"		margin-bottom:20px;\r\n"
"		-webkit-border-radius: 5px;\r\n"
"		-moz-border-radius: 5px;\r\n"
"		border-radius: 5px;\r\n"
"		-webkit-box-shadow: 3px 3px 3px black;\r\n"
"		-moz-box-shadow: 3px 3px 3px black;\r\n"
"		box-shadow: 3px 3px 3px black;\r\n"
"		background-color:rgb(255, 226, 165);\r\n"
"	}\r\n"
"	table tr:first-child {\r\n"
"		font-weight:bold;\r\n"
"	}\r\n"
"	table tr:first-child td{\r\n"
"		border:0px solid white;\r\n"
"	}\r\n"
"	table td, table th {\r\n"
"		border: 1px solid #0771E8;\r\n"
"	}\r\n"
"	table tr:not(:first-child):hover {\r\n"
"		background-color: rgba(117, 170, 219, 0.3);\r\n"
"	}\r\n"
"</style>\r\n"
"\r\n"
"<script>\r\n"
"// Class HTTPManager\r\n"
"function HttpManager (urlBase) {\r\n"
"    this.urlBase = urlBase;\r\n"
"    this.callback=null;\r\n"
"	this.xmlhttp=getRequestObject(); \r\n"
"}\r\n"
"function getRequestObject() {\r\n"
"    var options = [\r\n"
"        function () { return new XMLHttpRequest() },\r\n"
"        function () { return new ActiveXObject(\"Microsoft.XMLHTTP\") },\r\n"
"        function () { return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\") }\r\n"
"    ];\r\n"
"    for (var i = 0, il = options.length; i < il; i++) {\r\n"
"        try { return options[i]() } catch(e) {}\r\n"
"    }\r\n"
"}\r\n"
" HttpManager.prototype.getUrlBase = function() {\r\n"
"    return this.urlBase;\r\n"
"};\r\n"
"HttpManager.prototype.listener = function(self,callbackArg) {\r\n"
"	try\r\n"
"	{\r\n"
"		if (self.xmlhttp.readyState==4 && self.xmlhttp.status==200)\r\n"
"		{\r\n"
"			self.fcnCallback(callbackArg,true,self.xmlhttp.responseText);\r\n"
"		}\r\n"
"		else\r\n"
"		{\r\n"
"			self.fcnCallback(callbackArg,false,\"Invalid response\");	\r\n"
"		}\r\n"
"	}\r\n"
"	catch(err)\r\n"
"	{\r\n"
"		self.fcnCallback(callbackArg,false,err);	\r\n"
"	}\r\n"
"};\r\n"
"HttpManager.prototype.getData = function(url,fcnCallback,callbackArg) {\r\n"
"	this.fcnCallback=fcnCallback;\r\n"
"	var self=this;\r\n"
"	var callbackArgLocal= callbackArg ;\r\n"
"	this.xmlhttp.onreadystatechange = function(){ self.listener(self,callbackArgLocal);};\r\n"
"	this.xmlhttp.open(\"GET\",this.urlBase+\"/\"+url,true);\r\n"
"	this.xmlhttp.send();\r\n"
"};\r\n"
"\r\n"
"// Class Card\r\n"
"function Card (id,name) {\r\n"
"    this.id = id;\r\n"
"	if(name==null || name==\"undefined\" || name==\"\" || name==\" \")\r\n"
"		this.name = null;\r\n"
"	else\r\n"
"		this.name = name;\r\n"
"}\r\n"
"Card.prototype.getName = function() {\r\n"
"	return this.name;\r\n"
"}\r\n"
"Card.prototype.getId = function() {\r\n"
"	return this.id;\r\n"
"}\r\n"
"\r\n"
"//	Class DataParser\r\n"
"function DataParser (data) {\r\n"
"    this.data = data;\r\n"
"}\r\n"
"DataParser.prototype.parse = function() {\r\n"
"	var cards = [];\r\n"
"	var rows = this.data.split(\";\");\r\n"
"	var arrayLength = rows.length;\r\n"
"	for (var i = 0; i < arrayLength; i++) {\r\n"
"		var row = rows[i];\r\n"
"		var parts = row.split(\",\");\r\n"
"		if(parts[0]!=null && parts[0]!=\"\" && parts[0]!=\" \" && parts[0]!=\"undefined\")\r\n"
"		{\r\n"
"			var card = new Card(parts[0],parts[1])\r\n"
"			console.log(\"ID:\"+card.getId()+\" name:\"+card.getName());\r\n"
"			cards.push(card);\r\n"
"		}	\r\n"
"	}\r\n"
"	return cards;\r\n"
"};\r\n"
"\r\n"
"//	Class ScreenManager\r\n"
"function ScreenManager (data) {\r\n"
"    this.data = data;\r\n"
"}\r\n"
"ScreenManager.prototype.refresh = function(cards) {\r\n"
"	var tableElement = document.getElementById(\"table\");\r\n"
"	var notifElement = document.getElementById(\"notification\");\r\n"
"\r\n"
"	var strHtml = \"<tr><td>ID</td><td>Nombre</td><td></td><td></td></tr>\";	\r\n"
"	var arrayLength = cards.length;\r\n"
"	\r\n"
"	var i_start=0;\r\n"
"	var checkID = null;\r\n"
"	\r\n"
"	if(cards.length != 0)\r\n"
"	{\r\n"
"		if(cards[0].getId().charAt(0)=='x')\r\n"
"		{\r\n"
"			checkID = cards[0].getId().substr(1);\r\n"
"			i_start = 1;\r\n"
"		}\r\n"
"		else\r\n"
"		{\r\n"
"			checkID = null;\r\n"
"			i_start = 0;\r\n"
"		}\r\n"
"	}\r\n"
"	\r\n"
"	var permitir = -1;\r\n"
"	\r\n"
"	for (var i = i_start; i < arrayLength; i++) \r\n"
"	{\r\n"
"		var card = cards[i];\r\n"
"		\r\n"
"		if(checkID != null)\r\n"
"		{\r\n"
"			if((card.getId() == checkID)&&(card.getName()!=null))\r\n"
"			{\r\n"
"				permitir=i;\r\n"
"			}\r\n"
"		}\r\n"
"		\r\n"
"		strHtml+=\"<tr>\";\r\n"
"			strHtml+=\"<td>\"+card.getId()+\"</td>\";\r\n"
"			if(card.getName()==null)\r\n"
"				strHtml+=\"<td><input id='\"+i+\"' type='text' value='Desconocido' disabled ></td>\";\r\n"
"			else	\r\n"
"				strHtml+=\"<td><input id='\"+i+\"' type='text' value='\"+card.getName()+\"' disabled ></td>\";\r\n"
"				\r\n"
"			strHtml+=\"<td onclick=enableEditor('\"+i+\"')>\"+this.getEditIcon()+\"</td>\"\r\n"
"			strHtml+=\"<td onclick=saveCard('\"+i+\"')>\"+this.getSaveIcon()+\"</td>\"\r\n"
"		strHtml+=\"</tr>\";\r\n"
"	}\r\n"
"	tableElement.innerHTML = strHtml;\r\n"
"	\r\n"
"	if(checkID!=null)\r\n"
"	{\r\n"
"		if(permitir != -1)\r\n"
"		{\r\n"
"			var estiloVerde = \"<p style='color:#00FF00;font-family:verdana;font-size:20px;font-weight:bold;'>\";\r\n"
"			notifElement.innerHTML = estiloVerde + \"ID \" + cards[permitir].getId() + \" (\" + cards[permitir].getName() + \") acceso permitido.</p>\";			\r\n"
"		}\r\n"
"		else\r\n"
"		{\r\n"
"			var estiloRojo = \"<p style='color:#FF0000;font-family:verdana;font-size:20px;font-weight:bold;'>\";\r\n"
"			notifElement.innerHTML = estiloRojo + \"ID \" + checkID + \" acceso denegado.</p>\";			\r\n"
"		}\r\n"
"	}\r\n"
"	else\r\n"
"	{\r\n"
"		notifElement.innerHTML = \"\";			\r\n"
"	}\r\n"
"}\r\n"
"ScreenManager.prototype.getNewNameValue = function(cardsIndex) {\r\n"
"	return document.getElementById(\"\"+cardsIndex).value;\r\n"
"}\r\n"
"ScreenManager.prototype.enableEditor = function(id) {\r\n"
"	return document.getElementById(\"\"+id).disabled=false;\r\n"
"}\r\n"
"ScreenManager.prototype.getEditIcon = function() {\r\n"
"	var icon = \"<svg style='width:22px; height:22px; margin-top:5px margin-left:5px' clip-rule='evenodd' fill-rule='evenodd' image-rendering='optimizeQuality' shape-rendering='geometricPrecision' text-rendering='geometricPrecision' viewBox='0 0 500 500' xmlns='http://www.w3.org/2000/svg'><defs><style type='text/css'><![CDATA[ .str2 {stroke:#434242;stroke-width:5} .str0 {stroke:#434242;stroke-width:10;stroke-linecap:round;stroke-linejoin:round} .str1 {stroke:#434242;stroke-width:15;stroke-linejoin:round} .fil2 {fill:#434242} .fil1 {fill:#FEFEFE} .fil5 {fill:#0075D8} .fil6 {fill:#008BFF} .fil7 {fill:#289CFF} .fil3 {fill:#979798} .fil4 {fill:#CDCDCE} .fil0 {fill:#FFFFFF}]]></style></defs><g id='Layer_x0020_1'><path class='fil0 str0' d='M190 30h140c11 0 20 9 20 20v400c0 11-9 20-20 20h-280c-11 0-20-9-20-20v-260l160-160z'/><path class='fil1 str0' d='M160 190h-130l160-160v130c0 17-14 30-30 30z'/><path class='fil2 str1' d='M400 88l64 63c6 6 6 16 0 22l-202 201-127 43 42-128 202-201c6-6 15-6 21 0z'/><rect class='fil3' height='219.999' transform='matrix(-2.121 -2.121 .064 -.064 424.911 211.53)' width='39.999'/><polygon class='fil4' points='177,289 262,374 135,417'/><rect class='fil5' height='229.998' transform='matrix(.707 .707 -.707 .707 396.628 183.246)' width='39.997'/><rect class='fil6' height='230.001' transform='matrix(.707 .707 -.707 .707 368.344 154.959)' width='39.999'/><rect class='fil7' height='230.001' transform='matrix(.707 .707 -.707 .707 340.059 126.675)' width='40.001'/><path class='fil2 str2' d='M135 417l66-23c-3-10-9-19-17-27-7-8-17-13-27-17l-22 67z'/></g></svg>\";\r\n"
"	return icon;\r\n"
"}\r\n"
"ScreenManager.prototype.getSaveIcon = function() {\r\n"
"	var icon = \"<svg style='width:22px; height:22px; clip-rule='evenodd' fill-rule='evenodd' image-rendering='optimizeQuality' shape-rendering='geometricPrecision' text-rendering='geometricPrecision' viewBox='0 0 500 500' xmlns='http://www.w3.org/2000/svg'><defs><linearGradient gradientUnits='userSpaceOnUse' id='a' x1='249.999' x2='249.999' y1='30.694' y2='470.692'><stop offset='0' stop-color='#008BFF'/><stop offset='1' stop-color='#0af'/></linearGradient><linearGradient gradientUnits='userSpaceOnUse' id='b' x1='284.421' x2='215.575' y1='130.457' y2='70.929'><stop offset='0' stop-color='#EBECEC'/><stop offset='1' stop-color='#FEFEFE'/></linearGradient><linearGradient gradientUnits='userSpaceOnUse' id='c' x1='249.997' x2='249.997' y1='448.641' y2='272.235'><stop offset='0' stop-color='#EBECEC'/><stop offset='1' stop-color='#FEFEFE'/></linearGradient></defs><g><path d='M55 31h365l50 50v365c0 13-11 25-25 25h-390c-14 0-25-12-25-25v-390c0-14 11-25 25-25z' fill='url(#a)' stroke='#434242' stroke-linejoin='round' stroke-width='10'/><path d='M110 31h280v125c0 8-7 15-15 15h-250c-8 0-15-7-15-15v-125z' fill='url(#b)' stroke='#434242' stroke-linejoin='round' stroke-width='10'/><rect fill='url(#c)' height='221' stroke='#434242' stroke-linejoin='round' stroke-width='10' width='320' x='90' y='250'/><path d='M290 29h70v102c0 2-2 5-5 5h-60c-3 0-5-3-5-5v-102z' fill='#434242'/><line fill='none' stroke='#434242' stroke-linecap='round' stroke-width='15' x1='370' x2='130' y1='295' y2='295'/><line fill='none' stroke='#434242' stroke-linecap='round' stroke-width='15' x1='370' x2='130' y1='335' y2='335'/><line fill='none' stroke='#434242' stroke-linecap='round' stroke-width='15' x1='370' x2='130' y1='375' y2='375'/><line fill='none' stroke='#434242' stroke-linecap='round' stroke-width='15' x1='370' x2='130' y1='415' y2='415'/></g></svg>\";\r\n"
"	return icon;\r\n"
"}\r\n"
"</script>\r\n"
"</head>\r\n"
"\r\n"
"<body>\r\n"
"	<div id=\"topPart\">\r\n"
"		<div id=\"topContent\">		\r\n"
"			<section>\r\n"
"				<article>\r\n"
"					<header><h1>Computadora Industrial Abierta Argentina</h1></header>\r\n"
"					<p>Sistema de control de acceso RFID</p>\r\n"
"					<p>Laboratorio de Sistemas Embebidos - FIUBA</p>			\r\n"
"				</article>\r\n"
"			</section>\r\n"
"			<!-- LOGO -->\r\n"
"		</div>\r\n"
"		<div id='notification'></div>\r\n"
"	</div>\r\n"
"	<div id=\"bottomPart\" >	\r\n"
"		<table id='table'>	\r\n"
"		</table>\r\n"
"		</br>\r\n"
"	</div>\r\n"
"\r\n"
"</body>\r\n"
"\r\n"
"<script>\r\n"
"//Main\r\n"
"var urlBase = \"192.168.0.123\"; // Poner la ip de la placa\r\n"
"var urlPageGetList = \"getList\"; // Poner \"getList\"\r\n"
"var urlSaveCard = \"setName\"; // Poner \"setName\"\r\n"
"var pageRefreshInterval = 1000; // Tiempo de refresco de la pagina en ms\r\n"
"var editNameTimeout = 60000; // Tiempo en que el campo de texto aparece habilitado y no se refresca la pantalla\r\n"
"var pageRefreshTimer;\r\n"
"var screenManager = new ScreenManager();\r\n"
"var httpm = new HttpManager (urlBase);\r\n"
"var cards;\r\n"
"\r\n"
"var refreshPage = function(){\r\n"
"	httpm.getData(urlPageGetList,onResponse,\"0\");\r\n"
"}\r\n"
"var resetRefresh = function(interval) {\r\n"
"	clearInterval(pageRefreshTimer);\r\n"
"	if(interval==null)\r\n"
"		pageRefreshTimer = setInterval(refreshPage,pageRefreshInterval);\r\n"
"	else	\r\n"
"		pageRefreshTimer = setInterval(refreshPage,interval);\r\n"
"}\r\n"
"var saveCard = function(cardsIndex)\r\n"
"{\r\n"
"	var card = cards[cardsIndex];	\r\n"
"	var newName = screenManager.getNewNameValue(cardsIndex);\r\n"
"	var nameAux = newName.replace(\" \",\"-\");\r\n"
"	console.log(\"save:\"+urlSaveCard+\"?uid=\"+card.getId()+\"&name=\"+nameAux);\r\n"
"	httpm.getData(urlSaveCard+\"?uid=\"+card.getId()+\"&name=\"+nameAux,onResponse,\"1\");\r\n"
"}\r\n"
"var enableEditor = function(editorId){\r\n"
"	console.log(\"editor for id:\"+editorId);\r\n"
"	screenManager.enableEditor(editorId);\r\n"
"	resetRefresh(editNameTimeout);\r\n"
"}\r\n"
"\r\n"
"var onResponse = function(args,flagOk,msg) {\r\n"
"	if(flagOk)\r\n"
"	{\r\n"
"		if(args==\"0\") //getList\r\n"
"		{\r\n"
"			console.log(\"Llego:\"+msg);\r\n"
"			var parser = new DataParser(msg);\r\n"
"			cards = parser.parse();		\r\n"
"			screenManager.refresh(cards);\r\n"
"		}\r\n"
"		else if(args==\"1\") // setName\r\n"
"		{\r\n"
"			if(msg==\"OK\")\r\n"
"				alert(\"Nombre guardado correctamente\");\r\n"
"			else\r\n"
"				alert(\"Error guardando nombre\");\r\n"
"			refreshPage();\r\n"
"			resetRefresh(null);\r\n"
"		}\r\n"
"	}	\r\n"
"};\r\n"
"\r\n"
"refreshPage();\r\n"
"resetRefresh(null);\r\n"
"\r\n"
"</script>\r\n"
"</html>\r\n"};
